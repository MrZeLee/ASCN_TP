---
all:
 vars:

  # GKE cluster variables
  gcp_project: tp-ascn-368117              # ID of GCP Project
  gcp_auth_kind: serviceaccount            # Do not change
  gcp_cred_file: "service_keys/key.json"     # Path to service account keys (json file downloaded from GCP)

  gcp_zone: europe-west1-b
  gcp_image_type: ubuntu_containerd
  gcp_machine_type: e2-small          # Can be changed if necessary
  gcp_disk_size_gb: 100                # Can be changed if necessary
  gcp_initial_node_count: 2            # Number of nodes to create. Can be changed if necessary


  # APP variables
  ghost_ip: <GHOST_SERVICE_IP>     # Needs to be updated
  ghost_port: 80         # Needs to be updated

  # DB variables
  secrets:
    - environment: ghost
      data:
        db_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          38336234326139656166306364346165343465663634303963653031666537383137363661643963
          3736383761663032376437633637343338653962323632380a653234613538303230633264373938
          39323630353237666164653066353839336635376531646662363633306232333038303736623263
          3730613062613334360a663538363731313561366663333531303666323264616365393762383939
          6133
        db_name: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64333766353764623261303331633038343838333837343938363666303361666563343031663939
          6531303061383236363564396135373365646363653365370a343736313239356634366161343738
          33333931333635333037303864376163343931356261323636623266336561623235663332393538
          3334643562623862380a376566363432633530643661646263626533386633306163366261313632
          6161
        mail__auth__user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30646164396264393531653732373535613366613038393339346266353165393561376134376634
          3037393865376433623365393533366537663330333637610a323662386363356163616261646666
          36303338633538663031343635616534386333373532656135393836653830306336383933333730
          6363666566396530660a336333643766653130376266626662643066313732636332306130666266
          36366134386666623632363565356331616634383463613964383137353035366238303732636565
          38306130616436316433383662633764663233386261353131353364303336316163633765323832
          323463613961393164306266306339313462
        mail__auth__pass: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34663337626561363138363332353431633035333761303133396263383237326532663337333438
          3337353966376238356138323432346132306662393035630a333461613830366333356161383933
          32316636396565366332626163383339303765373132626633343765386632326431316361633063
          3166613832653862380a666164363036626566663361623139323362393135343465343038316134
          32333232613434363765343862626533356238366230663132326639643239306264626338383064
          34333938653632313339356537313162366534653639653466303533316639393662646530303731
          656164306566623161666364666436626338

  # Additional variables
  admin_user: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32623733643834376465393633383735356434346233636138346264383936313636656536333633
          3064333338383936636439303834303032643731346234640a666136343938346333643463643739
          63663734663266336638643830366131643161363130646433323235323134333462613330656133
          6662353130396239390a666165353635633333636233393832313563636663353235343537346137
          6335
  admin_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32313832333962623134626165356365616663326263316665643862343832316161366132643361
          3762396139366262653334623366393037396330666234640a393464343563323764376565363061
          33353632396534373537656139306333313332366131396133653230623763633065633065656332
          3638333066636331380a663634336163323961373961643966383639633134653230333934383666
          3766
  admin_email: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31353164643731366339636535306436653662666230396539653437393738613063656231303634
          3631663437396637383935653934616336323332333039640a633639653830613734653936396135
          62626238383832383962663733643566313237623536616163313666383238393131386439383266
          6631643261633835310a343335366162626664336537663264326165633439613265643662326337
          31373764383039373934663437333833303066393061306134383963353330363936
  mailgun_domain: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30396266653065613530323031656236323965373731656533323864373939623138306662653039
          6462353562613861663362363935623461396234633963620a316431313863363833353463303230
          35663738636636356266623365633434326365646134373837656563346132343032343761633663
          6663643435353061390a326533326332323934656138646137366631326337623566656332333036
          62646536663138366237666636626663313566343761333662636436633364356234343464353964
          65393134366632653436376335623630663333343663393137613639336363626262323965393166
          623464343466323364326237653531353231
  mailgun_api_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65643139313735656364653634366464393637316363333965346435343839386637383139646361
          6239323830396233616664316366396166393261373234360a643563313432323937323837386331
          39353166663339336237346137303530323431333661323635323435393537373739363831383435
          3664656436396534620a393261393866356132373236633536343834336334343738323930396130
          31393033616638323531336362393635366466333861343130656166613265626534333065373233
          38363833343836356238376230326531643035656637316438643339623033303539636164306332
          636531343466396536376433353831666661
  mailgun_base_url: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34376666333438653534383334376261333363623361396439393166633839626463353937313366
          3932613461343135653039393830343339666437323136630a383137376263336231346636643632
          35366638333635393838333432333762306434376366373930633937663639306138363964326138
          6133353064356362370a363138323830653437393965613238653034333865633336316433373363
          36386364326638333234363764623535323334363163396264666562616461373438

  mail__transport:  "SMTP"
  mail__from: "'Ghost' <support@example.com"
  mail__options__host: "smtp.mailgun.org"
  mail__options__port: "587"
  mail__options__service: "Mailgun"
  mail__options__secure: "false"

  python_path: python3

  cpu_limit_db: "300m"
  cpu_request_db: "100m"
  memory_request_db: "400M"

  cpu_limit_ghost: "250m"
  cpu_request_ghost: "100m"
  memory_request_ghost: "150M"

  cpu_ha: "150m"

  min_replicas_ghost: "2"
  max_replicas_ghost: "10"
  targetCPUUtilizationPercentage: "70"

  namespace: "ghost"

  jmeter_threads: "200"
  jmeter_loops: "20"
  jmeter_ramp_time: "1"